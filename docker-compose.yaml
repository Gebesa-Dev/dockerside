---
version: '3'
services:
  ansible:
    build: ansible/control
    image: suckowbiz/ansible
    depends_on:
      - "ansible-base"
  ansible-base:
    build: ansible/base
    image: suckowbiz/ansible-base
    depends_on:
      - "base"
  ansible-playbook:
    build: ansible/playbook
    image: suckowbiz/ansible-playbook
    depends_on:
      - "ansible-base"
  ansible-vault:
    build: ansible/vault
    image: suckowbiz/ansible-vault
    depends_on:
      - "ansible-base"
  base:
    build: base/base
    image: suckowbiz/base
  base-av:
    build: base/av
    image: suckowbiz/base-av
    depends_on:
      - base
  base-builder:
    build: base/builder
    image: suckowbiz/base-builder
    depends_on:
      - base
  caddy:
    build: caddy
    image: suckowbiz/caddy
    depends_on:
      - base
  vscode:
    build: vscode
    image: suckowbiz/vscode
    depends_on:
      - "base-av"
  chrome:
    build: chrome
    image: suckowbiz/chrome
    depends_on:
      - "base-av"
  clementine:
    build: clementine
    image: suckowbiz/clementine
    depends_on:
      - "base-av"
  gimp:
    build: gimp
    image: suckowbiz/gimp
    depends_on:
      - "base-av"
  git:
    build: git
    image: suckowbiz/git
    depends_on:
      - "base-builder"
  keepass2:
    build: keepass2
    image: suckowbiz/keepass2
    depends_on:
      - "base-av"
# Disabled because binary must be provided first (see ./idea/README.md)
#  idea:
#    build: idea
#    image: suckowbiz/idea
#    depends_on:
#      - "base-av"
  nginx:
    build: nginx/base
    image: suckowbiz/nginx
    depends_on:
      - "base"
  nginx-php:
    build: nginx/php
    image: suckowbiz/nginx-php
    depends_on:
      - "nginx"
  nfs-hub:
    build: nfs-hub
    image: suckowbiz/nfs-hub
    depends_on:
      - "base"
  proxy:
    build: proxy
    image: suckowbiz/proxy
    depends_on:
      - "base"
  steam:
    build: steam
    image: suckowbiz/steam
    depends_on:
      - "base-av"
  supertux:
    build: supertux
    image: suckowbiz/supertux
    depends_on:
      - "base-builder"
